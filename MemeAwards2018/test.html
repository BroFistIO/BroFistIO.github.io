<!DOCTYPE HTML>
<html lang="en">
<head>
<title>Meme Awards 2018</title>
<meta name="description" content="Free ERC721 meme trading card crypto collectibles limited time airdrop!">
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<!--[if lte IE 8]><script src="../assets/js/ie/html5shiv.js"></script><![endif]-->
<link rel="stylesheet" href="../assets/css/main.css" />
<!--[if lte IE 9]><link rel="stylesheet" href="../assets/css/ie9.css" /><![endif]-->
<!--[if lte IE 8]><link rel="stylesheet" href="../assets/css/ie8.css" /><![endif]-->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-3064259-44"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-3064259-44');
</script>
<link rel="apple-touch-icon" sizes="57x57" href="../icons/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="../icons/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="../icons/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="../icons/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="../icons/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="../icons/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="../icons/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="../icons/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="../icons/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="../icons/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="../icons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="../icons/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="../icons/favicon-16x16.png">
<link rel="manifest" href="../icons/manifest.json">
<meta name="msapplication-TileColor" content="#5d4c91">
<meta name="msapplication-TileImage" content="../icons/ms-icon-144x144.png">
<meta name="theme-color" content="#5d4c91">
<script src="../assets/js/jquery.min.js"></script>
<script src="../inc/web3-1.0.0-beta.37.js"></script>
<style>
/* Initially hidden */
#claimTokenButton, .cardWrapper, #Web3Notification, #Loading {
    display: none;
}


#Web3Notification, #Loading {
    position: fixed;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    color: DimGrey;
    background: white;
    width: 100%;
    height: 100%;
    z-index: 999;
}
#Web3Info {
    width: 100%;
    max-width: 350px;
    height: auto;
    margin: 0 auto;
    padding: 2em;
}
#Web3Notification h1 {
    margin: 0; padding: 1em 0 1em 0;
    border-bottom: 1px solid #ccc;
    font-size: 2em;
    line-height: 1.3;
}
#Web3Info p {
    text-align: justify;
    margin: 0;
    padding: 2em 0 2em 0;
}
#Web3Info a {
    display: block;
}
#Web3Info img {
    width: 100%;
}

.lds-ripple {
    position: relative;
    top: 50%;
    left: 50%;
    -webkit-transform: translate(-32px, -32px);
    -moz-transform: translate(-32px, -32px);
    transform: translate(-32px, -32px);
}

.lds-ripple div {
    position: absolute;
    width: 64px;
    height: 64px;
    border: 4px solid orange;
    opacity: 1;
    border-radius: 50%;
    animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;
}

.lds-ripple div:nth-child(2) {
    animation-delay: -0.5s;
}

@keyframes lds-ripple {
    
    0% {
        top: 28px;
        left: 28px;
        width: 0;
        height: 0;
        opacity: 1;
    }

    100% {
        top: -1px;
        left: -1px;
        width: 58px;
        height: 58px;
        opacity: 0;
    }

}

#Loading .info{
    font-size: 12px;
    margin: 0; 
    padding: 0;
    position: absolute;
    top: calc(50% + 48px);
    width: 100%;
    text-align: center;
}




/*
    THE CARD
*/
	.cardWrapper {
	    max-width: 250px;
	    margin: 0 auto;
	}
	
	.card {
		perspective: 2000px;
		padding-bottom: 135%;
	}
	
	.cardContainer {
		position: relative;
		transition: transform 1s;
		transform-style: preserve-3d;
	}
	
	.cardFront,
	.cardBack { 
		position: absolute;
		width: 100%;
	}
	
	.cardFront,
	.cardBack {
		backface-visibility: hidden;
	}
	
	.cardBack {
		transform: rotateY( 180deg );
	}
	
	.cardFront img,
	.cardBack img {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		z-index: -1
	}
	
	.cardHeader {
		position: relative;
		width: 80%; margin: 0 auto;
		padding-bottom: 33.75%;
	}
	
		#cardTitle {
			line-height: 1;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			width: 100%;
			height: 30%;
			margin: auto;
			color: white;
			font-weight: bold;
			text-shadow: 1px 1px black;
			letter-spacing: 2px;
			position: absolute;
			text-align: center;
		}
	
	#cardImageContainer {
		position: relative;
		width: 80%;
		padding-bottom: 75%;
		margin: 0 auto;
	}
	
	#cardImageContainer img {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		z-index: -2
	}
	
	.cardDescriptionContainer {
		position: relative;
		width: 100%;
		padding-bottom: 26.25%;
	}
	
    	.cardDescriptionContainer p {
		line-height: 1.4;
    		position: absolute;
    		top: 25%;
    		left: 4%;
    		margin: 0;
    		color: white;
    		padding-right: 30%;
    		font-size: 0.75em;
    	}



      
/* Countdown */

.countdownWrapper {
  color: #333;
  text-align: center;
}

.timeBlock {
  display: inline-block;
  font-size: 0.9em;
  list-style-type: none;
  padding: 1em;
  text-transform: uppercase;
}

.timeBlock span {
  display: block;
  font-size: 1.5em;
}
</style>
<!-- The DApp -->
<script>
let contract;
var userAccounts;
var hasAccess;
var hasClaimed;
var youtubeSubscription;

window.addEventListener('load', async () => {
    // Modern dapp browsers...
    if (window.ethereum) {
        window.web3 = new Web3(ethereum);
        try {
            // Request account access if needed
            await ethereum.enable();
            // Acccounts now exposed
		hasAccess = true;
        } catch (error) {
            // User denied account access...
		hasAccess = false;
		$('#Web3Notification').fadeIn(200);
            $('#Web3Info h1').text('Web3 access denied!');
            $('#Web3Info p').text('In order to interact with this DApp you need \
            to allow Web3 access. Consider refreshing the page and allowing access.');
            $('#Web3Info img').attr('src','../images/info.png');
        }
    }
    // Legacy dapp browsers...
    else if (window.web3) {
        window.web3 = new Web3(web3.currentProvider);
        // Acccounts always exposed
        hasAccess = true;
    }
    // Non-dapp browsers...
    else {
	    hasAccess = false;
	    $('#Web3Notification').fadeIn(200);
            $('#Web3Info h1').text('Non-dapp browser detected!');
            $('#Web3Info p').text('It looks like your browser does not currently \
            support Web3. We recommend getting MetaMask to unlock the web of tomorrow \
            in your browser today.');
            $('#Web3Info').append('<a href="https://metamask.io" target="_blank" \
            rel="nofollow"><img src="../images/metamask.png" alt="MetaMask logo"/></a>');
    }
});

// Initialize contract instance, load user data
async function initialize() {
    $('#Web3Notification').fadeOut(200);
	$('#Loading').show();
    $('#Loading .info').text('Loading DApp');
    try {
    //let address = "0xCA011eD921eE5a91FdFB86F41d2e317bf5a5B5fC"; old
    let address = "0x756fee561baa951264cd6912e431111a80185fcf"; //no claim check
    let ABI = [
    {
        "constant":false,
        "inputs":[],
        "name":"claimMeme",
        "outputs":[],
        "payable":false,
        "stateMutability":"nonpayable",
        "type":"function"
    },
    
    {
        "constant":true,
        "inputs":[{"name":"_owner","type":"address"}],
        "name":"getMemesByOwner",
        "outputs":[{"name":"","type":"uint256[]"}],
        "payable":false,
        "stateMutability":"view",
        "type":"function"
    },
    
    {
        "constant":true,
        "inputs":[{"name":"","type":"address"}],
        "name":"hasClaimed",
        "outputs":[{"name":"","type":"bool"}],
        "payable":false,
        "stateMutability":"view",
        "type":"function"
    },
    	
    {
    	"constant":true,
    	"inputs":[],
    	"name":"isAirdropOver",
    	"outputs":[{"name":"","type":"bool"}],
    	"payable":false,
    	"stateMutability":"view",
    	"type":"function"
    },
    
    {
        "constant":true,
        "inputs":[],
        "name":"getEndTime",
        "outputs":[{"name":"","type":"uint256"}],
        "payable":false,
        "stateMutability":"view",
        "type":"function"
    },
    
    {
        "constant":true,
        "inputs":[{"name":"tokenId","type":"uint256"}],
        "name":"tokenURI",
        "outputs":[{"name":"","type":"string"}],
        "payable":false,
        "stateMutability":"view",
        "type":"function"
    },
    
    {
        "constant":true,
        "inputs":[{"name":"owner","type":"address"}],
        "name":"balanceOf",
        "outputs":[{"name":"","type":"uint256"}],
        "payable":false,
        "stateMutability":"view",
        "type":"function"
    }];
    contract = new web3.eth.Contract(ABI, address);
    userAccounts = await web3.eth.getAccounts();
    hasClaimed = await contract.methods.hasClaimed(userAccounts[0]).call();
    
        // Load the card data if already claimed 
        if(hasClaimed){
            loadCardData();
        } else {
            // Show subscribe button instead
            $('#subscribeToPewDiePie').fadeIn(200);
            
            function checkSubscription(){
                if(!youtubeSubscription){
                    // Not subscribed to PewDiePie
                } else {
                    // Subscribed to PewDiePie!
                    clearInterval(interval);
                    $('#subscribeToPewDiePie').hide();
                    $('#claimTokenButton').fadeIn(200);
                }
            }
            
            // Check for subscription every 1s
            var interval = setInterval(checkSubscription, 1000);
            
        }
    
    } catch (error) {
        console.error(error);
    } finally {
        $('#Loading').fadeOut(200);
    }
}
	

// Get access to DApp
$('#gainAccess').click(function(){
if(!hasAccess){
}
else {
	initialize();
}
});	
	

// Clicks on claim token button 
$('#claimTokenButton').click(function() {
    // Tell user to confirm 
    $('#Loading').fadeIn(200);
    $('#Loading .info').text('Please confirm this transaction...');
    function waitForReceipt(hash, cb) {
      web3.eth.getTransactionReceipt(hash, function (err, receipt) {
        if (err) {
          error(err);
        }
        if (receipt !== null) {
          // Transaction went through
          if (cb) {
            cb(receipt);
          }
        } else {
          // Try again in 1 second
          window.setTimeout(function () {
            waitForReceipt(hash, cb);
          }, 1000);
        }
      });
    }
    contract.methods.claimMeme().send({from: userAccounts[0]},
    function(error,hash){
        if(!error){
            $('#Loading .info').html('Waiting for <a href="https://ropsten.etherscan.io/tx/'+hash+'" target="_blank">transaction</a> to confirm...');
            waitForReceipt(hash, function (receipt) {
                // Success! Transaction confirmed 
                $('#claimTokenButton').hide();
                setTimeout(loadCardData, 2000); //Bigger than waitForReceipt
                $('#Loading .info').text('Transaction confirmed!');
                $('#Loading').fadeOut(2000);
            });
        } else {
            $('#Loading .info').text('Error. Transaction rejected?');
            $('#Loading').fadeOut(2000);
            console.log(error);
        }
    })
});


// Clickable card 
$('.cardWrapper').click(function(){
    flip();
});


// Flip the card
function flip(){
    $('#cardContainer').css('transform', 'rotateY(180deg)');
	window.setTimeout(function() {
	    // Because frame is transparent and the back showed through :P
		$('.cardFront').css('display', 'none');
	}, 250);
}


// Load card data & flip 
async function loadCardData(){
    try{
        let ownedTokens = await contract.methods.getMemesByOwner(userAccounts[0]).call();
        let ownedTokensUri = await contract.methods.tokenURI(ownedTokens[0]).call();
        $.getJSON(ownedTokensUri, function(data) {
            $("#cardTitle").text(data.name);
            $("#cardDescription").text(data.description);
            $("#cardImage").attr("src",data.image); 
        })
        $('.cardWrapper').fadeIn(200);
    } catch (error) {
        console.error(error);
    } finally {
        flip();
    }
}
</script>
</head>
<body>
<div id="wrapper">
<nav id="topmenu">
<ul>
<li><a href="../card-game/">Card Game</a></li>
<li><a href="https://medium.com/@BrofistCoin.io">Blog</a></li>
<li><a href="../about/">About</a></li>
<li><a href="../BrofistCoin_Whitepaper.pdf">Whitepaper</a></li>
<li><a href="../faq/">FAQ</a></li>
</ul>
</nav>
<header id="header">
<h1><a id="logolink" href="../">Meme Awards 2018</a></h1>
<p>Be part of history and claim yourself a free tradable ERC721 Meme token!</p>
</header>

<div id="main" class="lonelyContent">

    <!-- Introduction -->
    <section id="Introduction" class="main special">
	    
        <header class="major"> 
            <h2>Hold up, what is all this?</h2>
        </header>
        
        <div class="additionalSqueeze">
            <p>On new year's eve, PewDiePie aka. the "Meme Lord" announced the results of his poll where he asked us, the 9 year olds, to vote for the <strong>best memes of 2018</strong>.</p>
            <p>BrofistCoin decided to turn the <strong>epic style</strong> memes that made the cut into ownable and tradable blockchain based <strong>ERC721</strong> tokens and <strong>airdrop</strong> them to everyone for free!</p>
        </div>
        
		<div class="img-wrapper-1"> 
			<style>
			.responsiveVideo {
			position: relative;
			padding-bottom: 56.25%; /* 16:9 */
			padding-top: 25px;
			height: 0;
			}
			.responsiveVideo iframe {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			}
			</style>
			<div class="responsiveVideo">
			<iframe src="https://www.youtube.com/embed/4E96vYUG7bw" allowfullscreen></iframe>
			</div>
		</div>
	    
<script>		
const second = 1000,
minute = second * 60,
hour = minute * 60,
day = hour * 24;

let countDown = new Date('Feb 05, 2019 04:20:00').getTime(),
x = setInterval(function() {

let now = new Date().getTime(),
distance = countDown - now;

document.getElementById('days').innerText = Math.floor(distance / (day)),
document.getElementById('hours').innerText = Math.floor((distance % (day)) / (hour)),
document.getElementById('minutes').innerText = Math.floor((distance % (hour)) / (minute)),
document.getElementById('seconds').innerText = Math.floor((distance % (minute)) / second);

//do something later when date is reached
if (distance < 0) {
clearInterval(x);
}

}, second)
</script>
 <br>
<div class="countdown">
<h3>Time left until airdrop is over</h3>
<div class="timeBlock"><span id="days"></span>days</div>
<div class="timeBlock"><span id="hours"></span>Hours</div>
<div class="timeBlock"><span id="minutes"></span>Minutes</div>
<div class="timeBlock"><span id="seconds"></span>Seconds</div>
</div>

    </section>
    
    
    
    
     <!-- Details -->
    <section id="Details" class="main">
        
        <div class="additionalSqueeze">
            <h3>Tell me more about these tokens</h3>
            
            <p>To save you from all the technical jargon, all you need to know is these 
            <a href="https://en.wikipedia.org/wiki/Non-fungible_token" target="_blank" rel="nofollow">ERC721</a> tokens are like promotional 
            <strong>rare items</strong> that you can only ever claim during the first 30 days of the airdrop event.
            <br><br>
		    <img class="image fit" src="stack-of-cards.png" alt="PewDiePie and Memes Related Trading Cards">
		    
            After this period the <strong>total supply</strong> of every token in existence will become final meaning nobody can generate more than what's 
            already distributed. This makes these meme tokens effectively <strong>scarce and potentially valuable</strong>. 
            <br><br>
            Token ownership is tracked on the Ethereum blockchain so you can buy, sell and trade these meme tokens any time you want. 
            Theoretically the value of these tokens can become higher and higher over time.
            <br><br>
            <strong>Please note</strong> that these tokens are free to claim during the airdrop event provided that you have enough ETH in your Ethereum wallet 
            to cover the <a href="https://brofistcoin.io/faq/#MinersFee" target="_blank">transaction fee</a> 
            required by the Ethereum network to transfer the tokens from our smart contract to your wallet.
            <br><br>
            Although not related to our main project, the Meme Trading Cards game, these tokens are <strong>used in a small minigame</strong> we are working on.
            It's almost complete, but we decided to postpone development until enough people have claimed their free tokens first to see whether 
            people are even interested in what we're doing or not. 
            <br><br>
            In said minigame, your 
            meme token will act as your avatar that you can <strong>put to work and earn BrofistCoin</strong> for you. Other players can copystrike your avatar while 
            it's working and claim all the revenue. Oof! There are of course other aspects to the game that make it really <strong>competitive and fun</strong>, but we'll 
            release more information about it after the token airdrop event. Stay tuned and share this page with all your friends and family!!
            </p>
        </div>
    
     </section>
    
    
    
    
    <!-- Requirements -->
    <section id="Requirements" class="main">
        
        <div class="additionalSqueeze">
            <h3>What are the requirements?</h3>
 
            <p>You can claim a free ERC721 meme token provided that you are <strong>subscribed to PewDiePie</strong>, allow 
            <strong>MetaMask</strong> or other Web3 enabled browser to <strong>connect to our dapp</strong> and have enough ETH in your balance to cover 
            the network <strong>transaction fee</strong> (Gas) it takes to confirm the transaction.
            </p>
            
            <p>NB! One address can <strong>claim only once</strong> from the smart contract. If you attempt to claim more than one token,
            the transaction will fail and your Gas will be wasted!
            <br><br>
            Also note that the token you receive is <strong>randomly chosen</strong> from the memes that PewDiePie announced. In other 
            words you have 1 in 10 (there are 10 memes) chance to get any specific token. Don't come crying to me if you get a 
            Fortnite card!
            </p>
        </div>
    
     </section>
     
     
     
     
    <!-- ClaimERC721 -->
    <section id="ClaimERC721" class="main">
        
        <div class="additionalSqueeze">
            <h3>Claim Meme Awards 2018 crypto collectible!</h3>

            <a id="subscribeToPewDiePie" class="button special icon fa-youtube-play" href="https://www.youtube.com/channel/UC-lHJZR3Gqxm24_Vd_AJ5Yw?sub_confirmation=1" target="_blank">Subscribe to PewDiePie</a>
            
        </div>

<button id="claimTokenButton" class="button special icon fa-gift">Claim Meme Token!</button>

<!-- The Card -->
<div class="cardWrapper">
	<div class="card">
		<div id="cardContainer" class="cardContainer">
			<div class="cardFront">
				<img src="Card-Back.jpg"/>
			</div>
			<div class="cardBack">
				<img src="MemeAwards2018-Frame.png"/>
				<div class="cardHeader">
					<span id="cardTitle"></span>
				</div>
				<div id="cardImageContainer">
					<img id="cardImage" src="" alt=""/>
				</div>
				<div class="cardDescriptionContainer"><p id="cardDescription"></p></div>
			</div>
		</div>
	</div>
</div>

<!-- The loading screen -->
<div id="Loading"><div class="lds-ripple"><div></div><div></div></div>
<p class="info"></p>
</div>

<!-- The notifications -->
<div id="Web3Notification">
    <div id="Web3Info">
    <h1>One moment please</h1>
    <p>Looking for Web3 providers...</p>
    </div>
</div>
    
     </section>
	
	
	
	
    <!-- Statistics -->
    <section id="Requirements" class="main">
        
        <div class="additionalSqueeze">
            <h3>Statistics</h3>
            
            <p id="tokenStats">
            </p>
		
            <p id="theSmartContract">
		You can visit <a href="https://ropsten.etherscan.io/address/0xad3489875209933f8814d857a0a1cd2d828d310c" target="_blank" rel="nofollow">Etherscan</a> to view the smart contract for additional information.
            </p>
		
        </div>
    
     </section>
     
</div>

<footer id="footer">
<section>
<h5>If you're PewDiePie, please don't copystrike us.</h5>
<a href="index.html" target="_blank">Wallet Generator</a><br>
<a href="../about/" target="_blank">About BrofistCoin</a><br>
<a href="../BrofistCoin_Whitepaper.pdf" target="_blank">Whitepaper</a><br>
<a href="../faq/" target="_blank">FAQ</a><br>
<a href="https://medium.com/@BrofistCoin.io" target="_blank">Medium blog</a><br>
<a href="../careers" target="_blank">Open positions</a>
</section>
<section>
<h4 class="mytitle2">Get in touch</h4>
<dl class="alt">
<dt>Address</dt>
<dd>PewDiePie's closet</dd>
<dt>Phone</dt>
<dd>1-800-PEWDIEPIE</dd>
<dt>Email</dt>
<dd><a href="#">info@BrofistCoin.io</a></dd>
<dt>Telegram</dt>
<dd><a href="http://t.me/BrofistCoin_en" target="_blank">English</a>, <a href="https://t.me/BrofistCoin_zh" target="_blank">Chinese</a></dd>
</dl>
<ul class="icons">
<li><a href="https://bitcointalk.org/index.php?topic=2991802" target="_blank" class="icon fa-btc alt">
<span class="label">Bitcointalk</span></a></li>
<li><a href="https://twitter.com/BrofistCoinio" target="_blank" class="icon fa-twitter alt">
<span class="label">Twitter</span></a></li>
<li><a href="https://www.facebook.com/BrofistCoinio/" target="_blank" class="icon fa-facebook alt">
<span class="label">Facebook</span></a></li>
<li><a href="https://www.reddit.com/r/BrofistCoin/" target="_blank" class="icon fa-reddit alt">
<span class="label">Reddit</span></a></li>
<li><a href="https://jq.qq.com/?_wv=1027&k=5gTVnaf" target="_blank" class="icon fa-qq alt">
<span class="label">QQ</span></a></li>
<li><a href="https://github.com/BroFistIO" target="_blank" class="icon fa-github alt"><span class="label">GitHub</span></a></li></ul>
</section>
</footer>
</div>

	
	
	
	
<!-- Google gave me this... I don't know anything else -->
<script>
  /***** START BOILERPLATE CODE: Load client library, authorize user. *****/
  // Global variables for GoogleAuth object, auth status.
  var GoogleAuth;
  /**
   * Load the API's client and auth2 modules.
   * Call the initClient function after the modules load.
   */
  function handleClientLoad() {
    gapi.load('client:auth2', initClient);
  }
  function initClient() {
    // Initialize the gapi.client object, which app uses to make API requests.
    // Get API key and client ID from API Console.
    // 'scope' field specifies space-delimited list of access scopes
    gapi.client.init({
        'clientId': '141048639387-c4i3pq1vknuc6v163c513ou11k0rth00.apps.googleusercontent.com',
        'discoveryDocs': ['https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest'],
        'scope': 'https://www.googleapis.com/auth/youtube.readonly'
    }).then(function () {
      GoogleAuth = gapi.auth2.getAuthInstance();
      // Listen for sign-in state changes.
      GoogleAuth.isSignedIn.listen(updateSigninStatus);
      // Handle initial sign-in state. (Determine if user is already signed in.)
      setSigninStatus();
    });
  }
  function handleAuthClick(event) {
    // Sign user in after click on auth button.
    GoogleAuth.signIn();
  }
  function setSigninStatus() {
    var user = GoogleAuth.currentUser.get();
    isAuthorized = user.hasGrantedScopes('https://www.googleapis.com/auth/youtube.readonly');
    // Toggle button text and displayed statement based on current auth status.
    if (isAuthorized) {
      defineRequest();
    }
  }
  function updateSigninStatus(isSignedIn) {
    setSigninStatus();
  }
  function createResource(properties) {
    var resource = {};
    var normalizedProps = properties;
    for (var p in properties) {
      var value = properties[p];
      if (p && p.substr(-2, 2) == '[]') {
        var adjustedName = p.replace('[]', '');
        if (value) {
          normalizedProps[adjustedName] = value.split(',');
        }
        delete normalizedProps[p];
      }
    }
    for (var p in normalizedProps) {
      // Leave properties that don't have values out of inserted resource.
      if (normalizedProps.hasOwnProperty(p) && normalizedProps[p]) {
        var propArray = p.split('.');
        var ref = resource;
        for (var pa = 0; pa < propArray.length; pa++) {
          var key = propArray[pa];
          if (pa == propArray.length - 1) {
            ref[key] = normalizedProps[p];
          } else {
            ref = ref[key] = ref[key] || {};
          }
        }
      };
    }
    return resource;
  }
  function removeEmptyParams(params) {
    for (var p in params) {
      if (!params[p] || params[p] == 'undefined') {
        delete params[p];
      }
    }
    return params;
  }
  function executeRequest(request) {
    request.execute(function(response) {
        if(response.code !== 401 && response.code !== 400 && response.items[0]) {
          youtubeSubscription = true;
        }
      console.log(response);
    });
  }
  function buildApiRequest(requestMethod, path, params, properties) {
    params = removeEmptyParams(params);
    var request;
    if (properties) {
      var resource = createResource(properties);
      request = gapi.client.request({
          'body': resource,
          'method': requestMethod,
          'path': path,
          'params': params
      });
    } else {
      request = gapi.client.request({
          'method': requestMethod,
          'path': path,
          'params': params
      });
    }
    executeRequest(request);
  }
  /***** END BOILERPLATE CODE *****/
  
  function defineRequest() {
    buildApiRequest('GET',
                    '/youtube/v3/subscriptions',
                    {'forChannelId': 'UC-lHJZR3Gqxm24_Vd_AJ5Yw',
                     'mine': 'true',
                     'part': 'snippet,contentDetails'
                    });
  }
</script>
<script async defer src="https://apis.google.com/js/api.js" 
        onload="this.onload=function(){};handleClientLoad()" 
        onreadystatechange="if (this.readyState === 'complete') this.onload()">
</script>
</body>
</html>
